## 面试官：请你说说k8s 和 Docker的区别？

最近项目用到kubernetes（以下简称k8s，k和s之间有8个字母)。虽然之前也有简单使用过，但最近发现k8s概念较多，命令也有些不够用了，故想借此机会写点东西，更全面认识并使用k8s。

本篇文章目的：让你更全面了解k8s概念，以及学到在工作中常用的操作。整体更偏向于原理和应用。在正式开始k8s之前，我们先看看k8s和Docker的关系，分别从虚拟化角度、部署方式角度叙述why use容器，话不多说，开干。

目前发现并没有将kubernetes和Docker技术产生背景和需求进行比较的文章，本文从最纯正的官方定义角度出发并展开，阐述二者产生背景及与传统技术对比。

**简要介绍：**

官方定义1：Docker是一个开源的应用容器引擎，开发者可以打包他们的应用及依赖到一个可移植的容器中，发布到流行的Linux机器上，也可实现虚拟化。

官方定义2：k8s是一个开源的容器集群管理系统，可以实现容器集群的自动化部署、自动扩缩容、维护等功能。

与传统技术对比：

接下来我们看两张经典的图：

## 从虚拟化角度

![图片](https://mmbiz.qpic.cn/mmbiz_png/eQPyBffYbucq7kkleQXn2C5Ep7nBbmdMBj5noP461icVmd3OgQ1FaPVtVqsiaAN3z54xvB74pDUV4E5wZSTAYZ6w/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

​                                                                                      图1

上图是Docker容器（可用`k8s`管理的玩意儿）与传统虚拟化方式的不同之处，传统的虚拟技术，在将物理硬件虚拟成多套硬件后，需要再每套硬件上都部署一个操作系统，接着在这些操作系统上运行相应的应用程序。

而Docker容器内的应用程序进程直接运行在宿主机(真实物理机)的内核上，Docker引擎将一些各自独立的应用程序和它们各自的依赖打包，相互独立直接运行于未经虚拟化的宿主机硬件上，同时各个容器也没有自己的内核，显然比传统虚拟机更轻便。

每个集群有多个节点，每个节点可，我们的`Kubernetes`就是管理这些应用程序所在的小运行环境（`container`）而生。

## 从部署角度

![图片](https://mmbiz.qpic.cn/mmbiz_png/eQPyBffYbucq7kkleQXn2C5Ep7nBbmdMibYrMTzoWtOa1W3JKFxqOrFPYhYMkI6I4sMiaEbfvQtztAhA0c47um1A/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

​                                                                                           图2

注意

> 大家别把这幅图与上面`Docker`的那张图混淆了，图1是从虚拟化角度，说明了为应用提供必要的运行环境所需要做的虚拟化操作（即：传统：虚拟出的虚拟机装操作系统、Docker：容器引擎管理下的容器）。

而图2是在这些具体运行环境上进行真实应用部署时的情况，传统方式是将所有应用直接部署在同一个物理机器节点上，这样每个App的依赖都是完全相同的，无法做到App之间隔离，当然，为了隔离，我们也可以通过创建虚拟机的方式来将App部署到其中（就像图1上半部分那样），但这样太过繁重，故比虚拟机更轻便的Docker技术出现，现在我们通过部署Container容器的技术来部署应用，全部`Container`运行在容器引擎上即可。既然嫌弃虚拟机繁重，想用Docker，那好，你用吧，怎么用呢？手动一个一个创建？当然不，故`kubernetes`技术便出现了，以`kubernetes`为代表的容器集群管理系统，这时候就该上场表演了。

说白了，我们用`kubernetes`去管理Docker集群，即可以将`Docker`看成`Kubernetes`内部使用的低级别组件。另外，`Kubernetes`不仅仅支持`Docker`，还支持`Rocket`，这是另一种容器技术。希望我这篇文章中简单的描述能让你对两者有所理解和认识。

